(()=>{var e={};e.id=277,e.ids=[277],e.modules={5844:e=>{e.exports={container:"style_container__EbBN_",navBar:"style_navBar__jOIi_",navBarOptionContainer:"style_navBarOptionContainer__yg8D3",buttonJoin:"style_buttonJoin__YTnbV"}},385:e=>{e.exports={container:"style_container__oM6v_",backDropContainer:"style_backDropContainer__es5hQ",backDrop_overlay:"style_backDrop_overlay__qOQfK",profileContainer_details:"style_profileContainer_details__847UU",card:"style_card__F5ADU",card_profileContainer:"style_card_profileContainer___6ywb",connectedButton:"style_connectedButton__3TT6i",connectButton:"style_connectButton__FBKpt",workHistoryContainre:"style_workHistoryContainre___ePPG",workHistoryCard:"style_workHistoryCard__4jDjb",nameEdit:"style_nameEdit__pBOD8",updateProfileBtn:"style_updateProfileBtn__CZXRp",addWorkBtn:"style_addWorkBtn__9Jpk9",commetsContainer:"style_commetsContainer__9XDPZ",allCommentsContaier:"style_allCommentsContaier__GGczx",inputField:"style_inputField__YKcXS"}},3566:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>x,default:()=>p,getServerSideProps:()=>h,getStaticPaths:()=>m,getStaticProps:()=>u,reportWebVitals:()=>_,routeModule:()=>C,unstable_getServerProps:()=>f,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>g,unstable_getStaticProps:()=>y});var a=s(7093),i=s(5244),n=s(1323),o=s(4584),l=s(7733),c=s(7463),d=e([l,c]);[l,c]=d.then?(await d)():d;let p=(0,n.l)(c,"default"),u=(0,n.l)(c,"getStaticProps"),m=(0,n.l)(c,"getStaticPaths"),h=(0,n.l)(c,"getServerSideProps"),x=(0,n.l)(c,"config"),_=(0,n.l)(c,"reportWebVitals"),y=(0,n.l)(c,"unstable_getStaticProps"),g=(0,n.l)(c,"unstable_getStaticPaths"),j=(0,n.l)(c,"unstable_getStaticParams"),f=(0,n.l)(c,"unstable_getServerProps"),v=(0,n.l)(c,"unstable_getServerSideProps"),C=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/profile",pathname:"/profile",bundlePath:"",filename:""},components:{App:l.default,Document:o.default},userland:c});r()}catch(e){r(e)}})},8175:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{Z:()=>p});var a=s(997);s(6689);var i=s(5844),n=s.n(i),o=s(1163),l=s(3291),c=s(1148),d=e([l,c]);[l,c]=d.then?(await d)():d;let p=function(){let e=(0,o.useRouter)(),t=(0,l.useSelector)(e=>e.auth),s=(0,l.useDispatch)(),r=()=>{localStorage.removeItem("token"),e.push("/login"),s((0,c.mc)())};return a.jsx("div",{className:n().container,children:(0,a.jsxs)("nav",{className:n().navBar,children:[a.jsx("h1",{onClick:()=>{e.push("/")},children:"Pro Connect"}),(0,a.jsxs)("div",{className:n().navBarOptionContainer,children:[t.profileFetched&&a.jsx("div",{children:(0,a.jsxs)("div",{style:{display:"flex",gap:"1.2rem"},children:[a.jsx("p",{onClick:()=>{e.push("/profile")},style:{fontWeight:"bold",cursor:"pointer"},children:"Profile"}),a.jsx("p",{onClick:()=>r(),style:{fontWeight:"bold",cursor:"pointer"},children:"Logout"})]})}),!t.profileFetched&&a.jsx("div",{onClick:()=>{e.push("/login")},className:n().buttonJoin,children:a.jsx("p",{children:"Be a Part"})})]})]})})};r()}catch(e){r(e)}})},81:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>o});var a=s(997),i=s(8175);s(6689);var n=e([i]);i=(n.then?(await n)():n)[0];let o=function({children:e}){return(0,a.jsxs)("div",{children:[a.jsx(i.Z,{}),e]})};r()}catch(e){r(e)}})},7463:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>_});var a=s(997),i=s(888),n=s(6689),o=s(81),l=s(611),c=s(385),d=s.n(c),p=s(3291),u=s(1163),m=s(3159),h=s(5954),x=e([i,o,l,p,m,h]);[i,o,l,p,m,h]=x.then?(await x)():x;let _=function(){(0,u.useRouter)();let e=(0,p.useDispatch)(),t=(0,p.useSelector)(e=>e.auth);(0,p.useSelector)(e=>e.postReducer);let[s,r]=(0,n.useState)({}),[c,h]=(0,n.useState)(!1),[x,_]=(0,n.useState)(!1),[y,g]=(0,n.useState)({}),[j,f]=(0,n.useState)({company:"",positon:"",years:""}),[v,C]=(0,n.useState)({school:"",degree:"",fieldOfStudy:""}),k=e=>{let{name:t,value:s}=e.target;f({...j,[t]:s})},b=e=>{let{name:t,value:s}=e.target;C({...v,[t]:s})},P=async()=>{let t=new FormData;t.append("profile_picture",file[0]),t.append("token",localStorage.getItem("token")),await i.P.post("/update_profile_picture",t,{headers:{"Content-Type":"multipart/form-data"}}),e((0,m.$2)({token:localStorage.getItem("token")}))},S=async()=>{await i.P.post("/user_update",{token:localStorage.getItem("token"),name:s.userId.name}),await i.P.post("/update_profile_data",{token:localStorage.getItem("token"),bio:s.bio,currentPost:s.currentPost,pastWork:s.pastWork,education:s.education}),e((0,m.$2)({token:localStorage.getItem("token")}))};return a.jsx(o.default,{children:(0,a.jsxs)(l.default,{children:[t.user&&s.userId&&(0,a.jsxs)("div",{className:d().container,children:[(0,a.jsxs)("div",{className:d().backDropContainer,children:[a.jsx("label",{htmlFor:"profilePictureUpload",className:d().backDrop_overlay,children:a.jsx("p",{children:"Edit"})}),a.jsx("input",{onChange:e=>P(e.target.files[0]),type:"file",id:"profilePictureUpload",hidden:!0}),a.jsx("img",{src:`${i._}/${s.userId.profilePicture}`,alt:""})]}),a.jsx("div",{className:d().profileContainer_details,children:(0,a.jsxs)("div",{style:{display:"flex",gap:"0.7rem"},children:[(0,a.jsxs)("div",{style:{flex:"0.8"},children:[(0,a.jsxs)("div",{style:{display:"flex",width:"fit-content",alignItems:"center",gap:"1.2rem"},children:[a.jsx("input",{className:d().nameEdit,value:s.userId.name,type:"text",onChange:e=>{r({...s,userId:{...s.userId,name:e.target.value}})}}),(0,a.jsxs)("p",{style:{color:"gray"},children:["@",s.userId.username]})]}),a.jsx("div",{children:a.jsx("textarea",{value:s.bio,onChange:e=>{r({...s,bio:e.target.value})},rows:Math.max(3,Math.ceil(s.bio.length/80)),style:{width:"100%"}})})]}),(0,a.jsxs)("div",{style:{flex:"0.2"},children:[a.jsx("h3",{children:"Recent Activity"}),y.map(e=>a.jsx("div",{className:d().postCard,children:(0,a.jsxs)("div",{className:d().card,children:[a.jsx("div",{className:d().card_profileContainer,children:""!==e.media?a.jsx("img",{src:`${i._}/${e.media}`}):a.jsx("div",{style:{width:"3.4rem",height:"3.4rem"}})}),a.jsx("p",{children:e.body})]})},e._id))]})]})}),(0,a.jsxs)("div",{className:d().workHistory,children:[a.jsx("h3",{children:"Work History"}),(0,a.jsxs)("div",{className:d().workHistoryContainre,children:[s.pastWork.map((e,t)=>(0,a.jsxs)("div",{className:d().workHistoryCard,children:[(0,a.jsxs)("p",{style:{fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.8rem"},children:[e.company," - ",e.position]}),a.jsx("p",{children:e.years})]},t)),a.jsx("button",{onClick:()=>h(!0),className:d().addWorkBtn,children:"Add Work"})]})]}),(0,a.jsxs)("div",{className:d().educationHistory,children:[a.jsx("h3",{children:" Education History"}),(0,a.jsxs)("div",{className:d().workHistoryContainre,children:[console.log(s),s.education.map((e,t)=>(0,a.jsxs)("div",{className:d().workHistoryCard,children:[(0,a.jsxs)("p",{style:{fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.8rem"},children:[e.school," - ",e.degree]}),a.jsx("p",{children:e.fieldOfStudy})]},t)),a.jsx("button",{onClick:()=>_(!0),className:d().addWorkBtn,children:"Add Education"})]})]}),s!=t.user&&a.jsx("div",{onClick:()=>S(),className:d().updateProfileBtn,children:"Update Profile"})]}),c&&a.jsx("div",{onClick:()=>{h(!1)},className:d().commetsContainer,children:(0,a.jsxs)("div",{onClick:e=>e.stopPropagation(),className:d().allCommentsContaier,children:[a.jsx("input",{onChange:k,name:"company",className:d().inputField,type:"text",placeholder:"Enter Company"}),a.jsx("input",{onChange:k,name:"position",className:d().inputField,type:"text",placeholder:"Enter Position"}),a.jsx("input",{onChange:k,name:"years",className:d().inputField,type:"number",placeholder:"Years"}),a.jsx("div",{onClick:()=>{r({...s,pastWork:[...s.pastWork,j]}),h(!1)},className:d().updateProfileBtn,children:"Add Work"})]})}),x&&a.jsx("div",{onClick:()=>{_(!1)},className:d().commetsContainer,children:(0,a.jsxs)("div",{onClick:e=>e.stopPropagation(),className:d().allCommentsContaier,children:[a.jsx("input",{onChange:b,name:"school",className:d().inputField,type:"text",placeholder:"Enter School"}),a.jsx("input",{onChange:b,name:"degree",className:d().inputField,type:"text",placeholder:"Enter Degree"}),a.jsx("input",{onChange:b,name:"fieldOfStudy",className:d().inputField,type:"text",placeholder:"Enter Field Of Study"}),a.jsx("div",{onClick:()=>{r({...s,education:[...s.education,v]}),_(!1)},className:d().updateProfileBtn,children:"Add Education"})]})})]})})};r()}catch(e){r(e)}})},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},3258:e=>{"use strict";e.exports=import("@reduxjs/toolkit")},9648:e=>{"use strict";e.exports=import("axios")},3291:e=>{"use strict";e.exports=import("react-redux")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},9796:e=>{"use strict";e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[859,342,861],()=>s(3566));module.exports=r})();