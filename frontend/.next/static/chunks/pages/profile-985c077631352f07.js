(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{3235:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return n(7463)}])},611:function(e,t,n){"use strict";n.r(t);var s=n(5893),o=n(7294),i=n(1525),r=n.n(i),a=n(1163),l=n(1148),c=n(5007),d=n(3159);t.default=function(e){let{children:t}=e,n=(0,c.I0)(),i=(0,c.v9)(e=>e.auth);(0,o.useEffect)(()=>{null===localStorage.getItem("token")&&p.push("/login"),n((0,l.Mz)()),i.all_user_fetched||(n((0,d.Y8)()),n((0,d.$2)({token:localStorage.getItem("token")})))},[i.isToken]);let p=(0,a.useRouter)();return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:r().container,children:(0,s.jsxs)("div",{className:r().homeContainer,children:[(0,s.jsxs)("div",{className:r().homeContainer_leftBar,children:[(0,s.jsxs)("div",{onClick:()=>{p.push("/dashboard")},className:r().sideBarOption,children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),(0,s.jsx)("p",{children:"Scroll"})]}),(0,s.jsxs)("div",{onClick:()=>{p.push("/discover")},className:r().sideBarOption,children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),(0,s.jsx)("p",{children:"Discover"})]}),(0,s.jsxs)("div",{onClick:()=>{p.push("/my_connection")},className:r().sideBarOption,children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),(0,s.jsx)("p",{children:"My Connection"})]})]}),(0,s.jsxs)("div",{className:r().homeContainer_feedContainer,children:[t,(0,s.jsx)("p",{})]}),(0,s.jsxs)("div",{className:r().homeContainer_extraContainer,children:[(0,s.jsx)("h3",{children:"Top Profiles"}),i.all_profile_fetched&&i.all_profiles.map(e=>(0,s.jsx)("p",{children:e.userId.name},e._id))]})]})}),(0,s.jsxs)("div",{className:r().mobileNavBar,children:[(0,s.jsx)("div",{onClick:()=>{p.push("/dashboard")},className:r().singleNavItemHolder_mobileView,children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})}),(0,s.jsx)("div",{onClick:()=>{p.push("/discover")},className:r().singleNavItemHolder_mobileView,children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})}),(0,s.jsx)("div",{onClick:()=>{p.push("/my_connection")},className:r().singleNavItemHolder_mobileView,children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})})]})]})}},7219:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var s=n(5893);n(7294);var o=n(6296),i=n.n(o),r=n(1163),a=n(5007),l=n(1148),c=function(){let e=(0,r.useRouter)(),t=(0,a.v9)(e=>e.auth),n=(0,a.I0)(),o=()=>{localStorage.removeItem("token"),e.push("/login"),n((0,l.mc)())};return(0,s.jsx)("div",{className:i().container,children:(0,s.jsxs)("nav",{className:i().navBar,children:[(0,s.jsx)("h1",{onClick:()=>{e.push("/")},children:"Pro Connect"}),(0,s.jsxs)("div",{className:i().navBarOptionContainer,children:[t.profileFetched&&(0,s.jsx)("div",{children:(0,s.jsxs)("div",{style:{display:"flex",gap:"1.2rem"},children:[(0,s.jsx)("p",{onClick:()=>{e.push("/profile")},style:{fontWeight:"bold",cursor:"pointer"},children:"Profile"}),(0,s.jsx)("p",{onClick:()=>o(),style:{fontWeight:"bold",cursor:"pointer"},children:"Logout"})]})}),!t.profileFetched&&(0,s.jsx)("div",{onClick:()=>{e.push("/login")},className:i().buttonJoin,children:(0,s.jsx)("p",{children:"Be a Part"})})]})]})})},d=function(e){let{children:t}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)(c,{}),t]})}},7463:function(e,t,n){"use strict";n.r(t);var s=n(5893),o=n(3005),i=n(7294),r=n(7219),a=n(611),l=n(9478),c=n.n(l),d=n(5007),p=n(1163),h=n(3159),u=n(5954);t.default=function(){(0,p.useRouter)();let e=(0,d.I0)(),t=(0,d.v9)(e=>e.auth),n=(0,d.v9)(e=>e.postReducer),[l,m]=(0,i.useState)({}),[_,x]=(0,i.useState)(!1),[j,v]=(0,i.useState)(!1),[f,k]=(0,i.useState)({}),[C,y]=(0,i.useState)({company:"",positon:"",years:""}),[g,N]=(0,i.useState)({school:"",degree:"",fieldOfStudy:""}),w=e=>{let{name:t,value:n}=e.target;y({...C,[t]:n})},B=e=>{let{name:t,value:n}=e.target;N({...g,[t]:n})};(0,i.useEffect)(()=>{e((0,h.$2)({token:localStorage.getItem("token")})),e((0,u.Bd)())},[t.isToken]),(0,i.useEffect)(()=>{void 0!=t.user&&(m(t.user),k(n.posts.filter(e=>e.userId.username==t.user.userId.username)))},[t.user,n.posts]);let b=async()=>{let t=new FormData;t.append("profile_picture",file[0]),t.append("token",localStorage.getItem("token")),await o.P.post("/update_profile_picture",t,{headers:{"Content-Type":"multipart/form-data"}}),e((0,h.$2)({token:localStorage.getItem("token")}))},I=async()=>{await o.P.post("/user_update",{token:localStorage.getItem("token"),name:l.userId.name}),await o.P.post("/update_profile_data",{token:localStorage.getItem("token"),bio:l.bio,currentPost:l.currentPost,pastWork:l.pastWork,education:l.education}),e((0,h.$2)({token:localStorage.getItem("token")}))};return(0,s.jsx)(r.default,{children:(0,s.jsxs)(a.default,{children:[t.user&&l.userId&&(0,s.jsxs)("div",{className:c().container,children:[(0,s.jsxs)("div",{className:c().backDropContainer,children:[(0,s.jsx)("label",{htmlFor:"profilePictureUpload",className:c().backDrop_overlay,children:(0,s.jsx)("p",{children:"Edit"})}),(0,s.jsx)("input",{onChange:e=>b(e.target.files[0]),type:"file",id:"profilePictureUpload",hidden:!0}),(0,s.jsx)("img",{src:"".concat(o._,"/").concat(l.userId.profilePicture),alt:""})]}),(0,s.jsx)("div",{className:c().profileContainer_details,children:(0,s.jsxs)("div",{style:{display:"flex",gap:"0.7rem"},children:[(0,s.jsxs)("div",{style:{flex:"0.8"},children:[(0,s.jsxs)("div",{style:{display:"flex",width:"fit-content",alignItems:"center",gap:"1.2rem"},children:[(0,s.jsx)("input",{className:c().nameEdit,value:l.userId.name,type:"text",onChange:e=>{m({...l,userId:{...l.userId,name:e.target.value}})}}),(0,s.jsxs)("p",{style:{color:"gray"},children:["@",l.userId.username]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("textarea",{value:l.bio,onChange:e=>{m({...l,bio:e.target.value})},rows:Math.max(3,Math.ceil(l.bio.length/80)),style:{width:"100%"}})})]}),(0,s.jsxs)("div",{style:{flex:"0.2"},children:[(0,s.jsx)("h3",{children:"Recent Activity"}),f.map(e=>(0,s.jsx)("div",{className:c().postCard,children:(0,s.jsxs)("div",{className:c().card,children:[(0,s.jsx)("div",{className:c().card_profileContainer,children:""!==e.media?(0,s.jsx)("img",{src:"".concat(o._,"/").concat(e.media)}):(0,s.jsx)("div",{style:{width:"3.4rem",height:"3.4rem"}})}),(0,s.jsx)("p",{children:e.body})]})},e._id))]})]})}),(0,s.jsxs)("div",{className:c().workHistory,children:[(0,s.jsx)("h3",{children:"Work History"}),(0,s.jsxs)("div",{className:c().workHistoryContainre,children:[l.pastWork.map((e,t)=>(0,s.jsxs)("div",{className:c().workHistoryCard,children:[(0,s.jsxs)("p",{style:{fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.8rem"},children:[e.company," - ",e.position]}),(0,s.jsx)("p",{children:e.years})]},t)),(0,s.jsx)("button",{onClick:()=>x(!0),className:c().addWorkBtn,children:"Add Work"})]})]}),(0,s.jsxs)("div",{className:c().educationHistory,children:[(0,s.jsx)("h3",{children:" Education History"}),(0,s.jsxs)("div",{className:c().workHistoryContainre,children:[console.log(l),l.education.map((e,t)=>(0,s.jsxs)("div",{className:c().workHistoryCard,children:[(0,s.jsxs)("p",{style:{fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.8rem"},children:[e.school," - ",e.degree]}),(0,s.jsx)("p",{children:e.fieldOfStudy})]},t)),(0,s.jsx)("button",{onClick:()=>v(!0),className:c().addWorkBtn,children:"Add Education"})]})]}),l!=t.user&&(0,s.jsx)("div",{onClick:()=>I(),className:c().updateProfileBtn,children:"Update Profile"})]}),_&&(0,s.jsx)("div",{onClick:()=>{x(!1)},className:c().commetsContainer,children:(0,s.jsxs)("div",{onClick:e=>e.stopPropagation(),className:c().allCommentsContaier,children:[(0,s.jsx)("input",{onChange:w,name:"company",className:c().inputField,type:"text",placeholder:"Enter Company"}),(0,s.jsx)("input",{onChange:w,name:"position",className:c().inputField,type:"text",placeholder:"Enter Position"}),(0,s.jsx)("input",{onChange:w,name:"years",className:c().inputField,type:"number",placeholder:"Years"}),(0,s.jsx)("div",{onClick:()=>{m({...l,pastWork:[...l.pastWork,C]}),x(!1)},className:c().updateProfileBtn,children:"Add Work"})]})}),j&&(0,s.jsx)("div",{onClick:()=>{v(!1)},className:c().commetsContainer,children:(0,s.jsxs)("div",{onClick:e=>e.stopPropagation(),className:c().allCommentsContaier,children:[(0,s.jsx)("input",{onChange:B,name:"school",className:c().inputField,type:"text",placeholder:"Enter School"}),(0,s.jsx)("input",{onChange:B,name:"degree",className:c().inputField,type:"text",placeholder:"Enter Degree"}),(0,s.jsx)("input",{onChange:B,name:"fieldOfStudy",className:c().inputField,type:"text",placeholder:"Enter Field Of Study"}),(0,s.jsx)("div",{onClick:()=>{m({...l,education:[...l.education,g]}),v(!1)},className:c().updateProfileBtn,children:"Add Education"})]})})]})})}},6296:function(e){e.exports={container:"style_container__EbBN_",navBar:"style_navBar__jOIi_",navBarOptionContainer:"style_navBarOptionContainer__yg8D3",buttonJoin:"style_buttonJoin__YTnbV"}},1525:function(e){e.exports={homeContainer:"style_homeContainer__neWeZ",homeContainer_leftBar:"style_homeContainer_leftBar__i_xHT",singleNavItemHolder_mobileView:"style_singleNavItemHolder_mobileView__3jd7L",sideBarOption:"style_sideBarOption__0Nm2V",homeContainer_feedContainer:"style_homeContainer_feedContainer__gbYV6",homeContainer_extraContainer:"style_homeContainer_extraContainer___wRsE",mobileNavBar:"style_mobileNavBar__ioV_K"}},9478:function(e){e.exports={container:"style_container__oM6v_",backDropContainer:"style_backDropContainer__es5hQ",backDrop_overlay:"style_backDrop_overlay__qOQfK",profileContainer_details:"style_profileContainer_details__847UU",card:"style_card__F5ADU",card_profileContainer:"style_card_profileContainer___6ywb",connectedButton:"style_connectedButton__3TT6i",connectButton:"style_connectButton__FBKpt",workHistoryContainre:"style_workHistoryContainre___ePPG",workHistoryCard:"style_workHistoryCard__4jDjb",nameEdit:"style_nameEdit__pBOD8",updateProfileBtn:"style_updateProfileBtn__CZXRp",addWorkBtn:"style_addWorkBtn__9Jpk9",commetsContainer:"style_commetsContainer__9XDPZ",allCommentsContaier:"style_allCommentsContaier__GGczx",inputField:"style_inputField__YKcXS"}},1163:function(e,t,n){e.exports=n(9090)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=3235)}),_N_E=e.O()}]);